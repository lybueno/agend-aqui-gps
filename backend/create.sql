create table tb_role (id int8 generated by default as identity, authority varchar(255), primary key (id));
create table tb_schedule (id int8 generated by default as identity, date date, client_id int8, provider_id int8, primary key (id));
create table tb_user (id int8 generated by default as identity, nome_completo varchar(255), cpf varchar(255), email varchar(255), senha varchar(255), telefone varchar(255), primary key (id));
create table tb_user_role (user_id int8 not null, role_id int8 not null, primary key (user_id, role_id));
alter table if exists tb_schedule add constraint FKf2qhygj917jhecyosotsokcb6 foreign key (client_id) references tb_user;
alter table if exists tb_schedule add constraint FK30quotglkvom7kum2ndwnk5qa foreign key (provider_id) references tb_user;
alter table if exists tb_schedule add constraint FKayodi7fmy0i91ymajlay2f4ju foreign key (id) references tb_schedule;
alter table if exists tb_user_role add constraint FKea2ootw6b6bb0xt3ptl28bymv foreign key (role_id) references tb_role;
alter table if exists tb_user_role add constraint FK7vn3h53d0tqdimm8cp45gc0kl foreign key (user_id) references tb_user;
INSERT INTO tb_user (nome_completo, email, cpf, telefone, senha) VALUES ('Bob Brown', 'bob@gmail.com', '111.111.111-11', '(16)99123-4567', '$2a$10$eACCYoNOHEqXve8aIWT8Nu3PkMXWBaOxJ9aORUYzfMQCbVBIhZ8tG');
INSERT INTO tb_user (nome_completo, email, cpf, telefone, senha) VALUES ('Bill Green', 'bill@gmail.com', '222.222.222-22', '(17)98147-8523', '$2a$10$eACCYoNOHEqXve8aIWT8Nu3PkMXWBaOxJ9aORUYzfMQCbVBIhZ8tG');
INSERT INTO tb_role (authority) VALUES ('ROLE_PROVIDER');
INSERT INTO tb_role (authority) VALUES ('ROLE_CUSTOMER');
INSERT INTO tb_user_role (user_id, role_id) VALUES (1, 1);
INSERT INTO tb_user_role (user_id, role_id) VALUES (2, 2);
INSERT INTO tb_schedule(id, date, provider_id, client_id) VALUES(1, TIMESTAMP WITH TIME ZONE '2022-05-14T10:00:00Z', 1, 2);
